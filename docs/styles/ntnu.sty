\renewcommand\section{\@startsection {section}{1}{\z@}%
                                   {-4.5ex \@plus -.1ex \@minus -.2ex}%
                                   {2.3ex \@plus.2ex}%
                                   {\raggedright\normalfont\Large\bfseries}}
\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
                                     {-5.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\raggedright\normalfont\large\bfseries}}
\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
                                     {-3.25ex\@plus -1ex \@minus -.2ex}%
                                     {1.5ex \@plus .2ex}%
                                     {\raggedright\normalsize\bfseries}}
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
                                    {3.25ex \@plus1ex \@minus.2ex}%
                                    {-1em}%
                                    {\normalfont\normalsize\bfseries}}
\renewcommand\subparagraph{\@startsection{subparagraph}{5}{\parindent}%
                                       {3.25ex \@plus1ex \@minus .2ex}%
                                       {-1em}%
                                      {\normalfont\normalsize\bfseries}}
\newcommand\titulek{\@startsection {paragraph}{5}{\z@}%
                                   {-0.5ex \@plus -.1ex \@minus -.2ex}%
                                   {2.3ex \@plus.2ex}%
                                   {\LARGE\bfseries}}

\usepackage[bookmarks=false, colorlinks=false]{hyperref}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{latexsym}
\renewcommand\thefigure{\@arabic\c@figure}%
\renewcommand\thetable{\@arabic\c@table}%
\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip
  \sbox\@tempboxa{#1. #2}%
% \ifdim \wd\@tempboxa >\hsize
    #1. #2\par
% \else
%   \global \@minipagefalse
%   \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
%   \hb@xt@\hsize{\box\@tempboxa}%
% \fi
  \vskip\belowcaptionskip}
\def\fnum@figure{\normalfont\small\centering\figurename~\thefigure}
\def\fnum@table{\normalfont\small\tablename~\thetable}
\def\?{\kern.07em}
\newcommand{\obr}[3]{\resizebox{#1}{#2}{\includegraphics{#3}}}

\mathcode`\,="013B
\def\title#1#2{
\vspace*{-1cm}
\thispagestyle{plain}\begin{center}
{\scriptsize\sc Norwegian University of Science and Technology}\par\medskip
{#2}\par\bigskip
\titulek{\bf\uppercase{#1}}
\end{center}\def\popis{#1}}
\def\author#1{\small\centerline{#1}\def\autor{#1}
\fancyhead{}
\fancyhead[R]{\thepage}
\fancyhead[L]{\small\it\popis}%
\fancyfoot{}
\pagestyle{fancy}
\hypersetup{
    pdftitle = {\popis},
    pdfauthor = {\autor}
}\par\vspace{15mm}}
\setlength{\oddsidemargin}{0mm} 
\setlength{\textwidth}{159.2mm}\setlength{\topmargin}{0mm} 
\setlength{\textheight}{230mm}
\SetMathAlphabet{\mathbf}{normal}{OML}{cmm}{b}{it}%
\def\vec{\mathbf}
\def\maketitle{
\fancyhead{}
\fancyhead[R]{\thepage}
\fancyhead[L]{\small\it\popis}%
\fancyfoot{}
\pagestyle{fancy}
\hypersetup{
    pdftitle = {\popis},
    pdfauthor = {\autor}
}
}
\def\refname{Literatura}
%\newtheorem{priklad}{Pøíklad}
\newtheorem{definice}{Definice}
\newtheorem{uloha}{Úloha}
\newtheorem{theorem}{Vìta}
\newenvironment{definition}{\begin{definice}}{\hspace*{\fill}$\Box$\end{definice}}
\newenvironment{solution}{\vspace{-2mm}\noindent{\bf Øe¹ení\?:}}{\hspace*{\fill}$\Box$}
\newenvironment{task}{\begin{uloha}\rm}{\hspace*{\fill}$\Box$\end{uloha}}
\newenvironment{proof}{\vspace{-2mm}\noindent{\bf Dùkaz\?:}}{\hspace*{\fill}$\Box$}
\newenvironment{example}{\begin{priklad}\par\noindent\rm}{\end{priklad}\par\bigskip}

\linespread{1.3}                        %line spacing 1.5

\setlength{\headheight}{14.5pt}



%-----<<<<<<<<<<<< MOJE MAKRA >>>>>>>>>>>>-----
\mathchardef\.="013B                        %mezera za desetinnou èárkou

\def\fracc#1#2{{\displaystyle{#1\over#2}}}  %pøedefinování zlomku aby tam psal velký znaky
\newcommand{\tran}[1]{{#1}^{\rm T}}         %transposition of matrix

\newcommand{\mat}[1]{\mbox{\boldmath $#1$}} %matice tuènì kurzívou
\newcommand{\figref}[1]{obr.~\mbox{\ref{#1}}}
%-----<<< --------------------- >>>-----
%-----<<< Èeské uvozovky >>>-----
\DeclareTextCommandDefault\clqq{\leavevmode
  \set@low@box{''}%
  \setbox1=\hbox{l\/}\dimen1=\wd1
  \setbox1=\hbox{l}\advance\dimen1 by -\wd1
  \ifdim\dimen1>0pt\kern-.1em\box0\kern.1em
    \else\kern.1em\box0\kern-.1em\fi\nobreak\hskip0pt}
\DeclareTextCommandDefault\crqq{\edef\@SF{\spacefactor\the\spacefactor}%
  \nobreak\kern-.07em\hbox{``}\kern.07em\@SF\relax}
\def\uv#1{\clqq#1\crqq}
%-----<<< -------------- >>>-----
%-----<<< Fyzika >>>-----
\newcommand{\quantity}[2]{#1~[#2]}          %fyzikální velièina s jednotkou
%-----<<< ------ >>>-----